local player = game:GetService("Players").LocalPlayer
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "SigmaToggleUI"

-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
local button = Instance.new("TextButton", gui)
button.Name = "SigmaToggle"
button.Size = UDim2.new(0, 100, 0, 50)
button.Position = UDim2.new(0.5, -50, 0.5, -25)
button.Text = "Sigma: Off"
button.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Font = Enum.Font.SourceSansBold
button.TextSize = 18
button.Active = true
button.Draggable = true

-- –ö—Ä–µ—Å—Ç–∏–∫ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
local closeButton = Instance.new("TextButton", gui)
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 20, 0, 20)
closeButton.Position = UDim2.new(1, -20, 0, 0)
closeButton.Text = "X"
closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.SourceSansBold
closeButton.TextSize = 14

-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
_G.Sigma = false

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ –∫–Ω–æ–ø–∫–∏
local function updateButton()
    if _G.Sigma then
        button.Text = "Easter Shop Dupe: On"
        button.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    else
        button.Text = "Easter Shop Dupe: Off"
        button.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    end
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
local function runSigmaLoop()
    while _G.Sigma do 
        wait(0.001)
        local Event = game:GetService("ReplicatedStorage").GameEvents.BuyEventShopStock
        Event:FireServer("Candy Blossom")
        Event:FireServer("Chocolate Carrot")
        Event:FireServer("Chocolate Sprinkler")
		Event:FireServer("Red Lollipop")
		Event:FireServer("Easter Egg")
		Event:FireServer("Candy Sunflower")
    end
end

-- –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ—Ä—É—Ç–∏–Ω—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ü–∏–∫–ª–∞
local sigmaThread = coroutine.create(function()
    while true do
        if _G.Sigma then
            runSigmaLoop()
        end
        wait(0.1) -- –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
    end
end)
coroutine.resume(sigmaThread)

-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–Ω–æ–ø–∫–µ
button.MouseButton1Click:Connect(function()
    _G.Sigma = not _G.Sigma
    updateButton()
end)

-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫—Ä–µ—Å—Ç–∏–∫—É
closeButton.MouseButton1Click:Connect(function()
    gui:Destroy()
    _G.Sigma = false -- –û—Ç–∫–ª—é—á–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ GUI
end)

-- –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
updateButton()


local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π UI –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if PlayerGui:FindFirstChild("EasterStockIndicator") then
    PlayerGui.EasterStockIndicator:Destroy()
end

-- –°–æ–∑–¥–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π UI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "EasterStockIndicator"
screenGui.ResetOnSpawn = false -- –ß—Ç–æ–±—ã UI –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–ª –ø—Ä–∏ —Ä–µ—Å–ø–∞–≤–Ω–µ
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling -- –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
screenGui.Parent = PlayerGui

-- –ì–ª–∞–≤–Ω—ã–π —Ñ—Ä–µ–π–º
local frame = Instance.new("Frame")
frame.Name = "MainFrame"
frame.Size = UDim2.new(0, 220, 0, 60) -- –ù–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
frame.Position = UDim2.new(0.5, -110, 0.1, 0)
frame.AnchorPoint = Vector2.new(0.5, 0)
frame.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- –¢–µ–º–Ω—ã–π —Ñ–æ–Ω
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Selectable = true
frame.Parent = screenGui



-- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ñ—Ä–µ–π–º –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞
local statusFrame = Instance.new("Frame")
statusFrame.Name = "StatusFrame"
statusFrame.Size = UDim2.new(0.7, 0, 1, 0)
statusFrame.Position = UDim2.new(0.3, 0, 0, 0)
statusFrame.BackgroundTransparency = 1
statusFrame.Parent = frame

-- –¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—É—Å–∞
local label = Instance.new("TextLabel")
label.Name = "StatusLabel"
label.Size = UDim2.new(1, 0, 1, 0)
label.BackgroundTransparency = 1
label.Text = "Loading data..."
label.TextColor3 = Color3.new(1, 1, 1)
label.Font = Enum.Font.GothamBold
label.TextSize = 14
label.TextXAlignment = Enum.TextXAlignment.Left
label.Parent = statusFrame

-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 25, 0, 25)
closeButton.Position = UDim2.new(0, 5, 0.5, -12)
closeButton.AnchorPoint = Vector2.new(0, 0.5)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
closeButton.BackgroundTransparency = 0 
closeButton.Text = "X"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 14
closeButton.Parent = frame



-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ (—Ü–≤–µ—Ç–Ω–æ–π –∫—Ä—É–≥)
local statusIndicator = Instance.new("Frame")
statusIndicator.Name = "StatusIndicator"
statusIndicator.Size = UDim2.new(0, 25, 0, 25)
statusIndicator.Position = UDim2.new(0.2, -8, 0.5, -0)
statusIndicator.AnchorPoint = Vector2.new(0, 0.5)
statusIndicator.BackgroundColor3 = Color3.new(1, 0, 0)
statusIndicator.BorderSizePixel = 0
statusIndicator.Parent = frame

-- –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
local indicatorCorner = Instance.new("UICorner")
indicatorCorner.CornerRadius = UDim.new(1, 0) -- –ö—Ä—É–≥–ª—ã–π
indicatorCorner.Parent = statusIndicator

local indicatorCorner = Instance.new("UIStroke")
indicatorCorner.Thickness = 2
indicatorCorner.Parent = statusIndicator

-- –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
local function updateUI(isAvailable)
    if isAvailable then
        statusIndicator.BackgroundColor3 = Color3.fromRGB(76, 209, 55)
        label.Text = "Easter Stock Is Available!"
    else
        statusIndicator.BackgroundColor3 = Color3.fromRGB(232, 65, 24)
        label.Text = "Easter Stock Is Unavailableü§¨ü§¨"
    end
end

-- –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
local function loadData()
    local success, result = pcall(function()
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è
        if not ReplicatedStorage:FindFirstChild("Data") then
            error("–ü–∞–ø–∫–∞ Data –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ ReplicatedStorage")
        end
        
        local dataFolder = ReplicatedStorage.Data
        
        if not dataFolder:FindFirstChild("EventShopData") then
            error("ModuleScript EventShopData –Ω–µ –Ω–∞–π–¥–µ–Ω")
        end
        
        return require(dataFolder.EventShopData)
    end)
    
    if success then
        local candyData = result["Candy Blossom"]
        
        if candyData then
            updateUI(candyData.StockChance == 12)
            return true
        else
            label.Text = "No Candy Blossom data"
            warn("–î–∞–Ω–Ω—ã–µ –¥–ª—è Candy Blossom –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")
        end
    else
        label.Text = "Data load error"
        warn("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:", result)
    end
    
    return false
end

-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è
closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

-- –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
loadData()

-- –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º (–µ—Å–ª–∏ –º–æ–¥—É–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
local function connectToChanges()
    local dataFolder = ReplicatedStorage:FindFirstChild("Data")
    if not dataFolder then return end
    
    local module = dataFolder:FindFirstChild("EventShopData")
    if module and module:IsA("ModuleScript") then
        module.Changed:Connect(function()
            loadData()
        end)
    end
end

connectToChanges()

print("Easter Stock UI —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!") -- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è
